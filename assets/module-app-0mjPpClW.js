import{B as r,C as o}from"./vendor-CaoFhvBr.js";const l=r("statistics",{state:()=>({allData:[],departments:[]}),actions:{async fetchData(){try{const a="https://fraudreviewinform-api.digiat.org.tw/api",s="production",t=await o.get(`${a}/v1/queryCaseStatisticsType2/`);console.log("TESTAPI Response:",t.data),t.data.RCODE===200?(this.allData=t.data.StatisticsList,this.filterDataByType("30")):console.error("API returned an error:",t.data)}catch(a){console.error("Failed to fetch data:",a)}},filterDataByType(a){const s=this.allData.filter(t=>t.Type===a);console.log("filteredList:",s),this.departments=s.flatMap(t=>t.CountList.map(e=>({department:e.Department,confirmed:e.ConfirmedFrauds,total:e.TotalFrauds,ratio:parseFloat(parseFloat(e.ConfirmedRatio*100).toFixed(1))}))),console.log("Updated departments:",this.departments)}}});export{l as u};
