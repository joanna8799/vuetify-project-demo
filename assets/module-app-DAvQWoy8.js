import{B as o,C as i}from"./vendor-CaoFhvBr.js";const n=o("statistics",{state:()=>({allData:[],departments:[]}),actions:{async fetchData(){try{const a="https://fraudreviewinform-api.digiat.org.tw/api",s="production",r=await i.get("https://cors-anywhere.herokuapp.com/"+"https://fraudreviewinform-api.digiat.org.tw/api/v1/queryCaseStatisticsType2/");console.log("TESTAPI Response:",r.data),r.data.RCODE===200?(this.allData=r.data.StatisticsList,this.filterDataByType("30")):console.error("API returned an error:",r.data)}catch(a){console.error("Failed to fetch data:",a)}},filterDataByType(a){const s=this.allData.filter(e=>e.Type===a);console.log("filteredList:",s),this.departments=s.flatMap(e=>e.CountList.map(t=>({department:t.Department,confirmed:t.ConfirmedFrauds,total:t.TotalFrauds,ratio:parseFloat(parseFloat(t.ConfirmedRatio*100).toFixed(1))}))),console.log("Updated departments:",this.departments)}}});export{n as u};
